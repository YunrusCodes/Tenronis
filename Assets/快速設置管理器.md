# 快速設置遊戲管理器

## 在Hierarchy中建立以下結構：

### 1. 建立管理器容器
```
Hierarchy 右鍵 > Create Empty
命名為: === MANAGERS ===
```

### 2. 在 === MANAGERS === 下建立各個管理器

**GameManager**
```
右鍵 === MANAGERS === > Create Empty
命名為: GameManager
添加組件: GameManager 腳本
```

**GridManager**
```
右鍵 === MANAGERS === > Create Empty
命名為: GridManager
添加組件: GridManager 腳本
```

**PlayerManager**
```
右鍵 === MANAGERS === > Create Empty
命名為: PlayerManager
添加組件: PlayerManager 腳本
```

**CombatManager**
```
右鍵 === MANAGERS === > Create Empty
命名為: CombatManager
添加組件: CombatManager 腳本
```

**AudioManager**
```
右鍵 === MANAGERS === > Create Empty
命名為: AudioManager
添加組件: AudioManager 腳本
```

**InputManager**
```
右鍵 === MANAGERS === > Create Empty
命名為: InputManager
添加組件: InputManager 腳本
```

### 3. 建立遊戲控制器

**TetrominoController**
```
Hierarchy 右鍵 > Create Empty
命名為: TetrominoController
添加組件: TetrominoController 腳本
```

**EnemyController**
```
Hierarchy 右鍵 > Create Empty
命名為: EnemyController
添加組件: EnemyController 腳本
```

### 4. 最終Hierarchy結構應該是：

```
SampleScene
├── Main Camera
├── Canvas (你的UI)
├── === MANAGERS ===
│   ├── GameManager
│   ├── GridManager
│   ├── PlayerManager
│   ├── CombatManager
│   ├── AudioManager
│   └── InputManager
├── TetrominoController
├── EnemyController
└── EventSystem
```

### 5. 設置GameManager的Inspector

選擇GameManager物件，在Inspector中：
- **Stages**: Size = 10，拖入所有Stage_01到Stage_10
- **Normal Buffs** (普通強化): Size = 6，拖入以下Buff：
  - Salvo (齊射強化，起始1，上限6)
  - Burst (連發強化，起始1，上限6)
  - Counter (反擊強化，起始1，上限6)
  - Explosion (過載爆破，起始1，上限4)
  - SpaceExpansion (空間擴充，起始1，上限4)
  - ResourceExpansion (資源擴充，起始0，上限3)
- **Legendary Buffs** (傳奇強化): Size = 3，拖入以下Buff：
  - Defense (裝甲強化，起始0，無上限)
  - Volley (協同火力，起始0，無上限)
  - Heal (緊急修復，立即效果)

**注意**：
- Execution 和 Repair 已改為消耗CP的技能，不再作為Buff出現
- 爆炸充能系統：反擊+5充能，消排+50充能，初始上限200
- **傳奇強化選擇機制**：
  - 當有普通強化達到滿級時，會提供傳奇強化選擇機會
  - 傳奇強化選擇時，只從 Legendary Buffs 陣列中選擇
  - 如果傳奇強化數量 ≤ 3，直接顯示全部
  - 如果傳奇強化數量 > 3，隨機選擇3個
  - 不會過濾傳奇強化（除了null），保留所有內容

完成！現在再次運行遊戲應該就沒問題了。

